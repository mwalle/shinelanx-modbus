[[inputs.modbus]]
  name = "yourserial"
  slave_id = 1
  timeout = "5s"
  controller = "tcp://192.168.1.200:502"
  configuration_type = "request"
  taginclude = [ "name" ]

  [[inputs.modbus.request]]
    slave_id = 1
    byte_order = "ABCD"
    register = "input"
    measurement = "pv-growatt"
    optimization = "max_insert"
    optimization_max_register_fill = 50

    fields = [
      { address=3000,  name="status-inverter",                 type="UINT16"              },
      { address=3001,  name="power-pv",                        type="UINT32", scale=0.1   },
      { address=3003,  name="voltage-pv1",                     type="UINT16", scale=0.1   },
      { address=3004,  name="current-pv1",                     type="UINT16", scale=0.1   },
      { address=3005,  name="power-pv1",                       type="UINT32", scale=0.1   },
      { address=3007,  name="voltage-pv2",                     type="UINT16", scale=0.1   },
      { address=3008,  name="current-pv2",                     type="UINT16", scale=0.1   },
      { address=3009,  name="power-pv2",                       type="INT32",  scale=0.1   },
      { address=3019,  name="power-system",                    type="INT32",  scale=0.1   },
      { address=3021,  name="reactive-power",                  type="INT32",  scale=0.1   },
      { address=3023,  name="power-ac",                        type="INT32",  scale=0.1   },
      { address=3025,  name="frequency-ac",                    type="UINT16", scale=0.01  },
      { address=3026,  name="voltage-ac1",                     type="UINT16", scale=0.1   },
      { address=3027,  name="current-ac1",                     type="UINT16", scale=0.1   },
      { address=3028,  name="power-ac1",                       type="INT32",  scale=0.1   },
      { address=3030,  name="voltage-ac2",                     type="UINT16", scale=0.1   },
      { address=3031,  name="current-ac2",                     type="UINT16", scale=0.1   },
      { address=3032,  name="power-ac2",                       type="INT32",  scale=0.1   },
      { address=3034,  name="voltage-ac3",                     type="UINT16", scale=0.1   },
      { address=3035,  name="current-ac3",                     type="UINT16", scale=0.1   },
      { address=3036,  name="power-ac3",                       type="INT32",  scale=0.1   },
      { address=3038,  name="voltage-ac-rs",                   type="UINT16", scale=0.1   },
      { address=3039,  name="voltage-ac-st",                   type="UINT16", scale=0.1   },
      { address=3040,  name="voltage-ac-tr",                   type="UINT16", scale=0.1   },
      { address=3041,  name="power-to-user",                   type="INT32",  scale=0.1   },
      { address=3043,  name="power-to-grid",                   type="INT32",  scale=0.1   },
      { address=3045,  name="power-load",                      type="INT32",  scale=0.1   },
      { address=3049,  name="energy-ac-today",                 type="UINT32", scale=0.1   },
      { address=3051,  name="energy-ac-total",                 type="UINT32", scale=0.1   },
      { address=3053,  name="energy-pv-total",                 type="UINT32", scale=0.1   },
      { address=3055,  name="energy-pv1-today",                type="UINT32", scale=0.1   },
      { address=3057,  name="energy-pv1-total",                type="UINT32", scale=0.1   },
      { address=3059,  name="energy-pv2-today",                type="UINT32", scale=0.1   },
      { address=3061,  name="energy-pv2-total",                type="UINT32", scale=0.1   },
      { address=3067,  name="energy-to-user-today",            type="UINT32", scale=0.1   },
      { address=3069,  name="energy-to-user-total",            type="UINT32", scale=0.1   },
      { address=3071,  name="energy-to-grid-today",            type="UINT32", scale=0.1   },
      { address=3073,  name="energy-to-grid-total",            type="UINT32", scale=0.1   },
      { address=3075,  name="energy-load-today",               type="UINT32", scale=0.1   },
      { address=3077,  name="energy-load-total",               type="UINT32", scale=0.1   },
      { address=3083,  name="energy-pv-today",                 type="UINT32", scale=0.1   },
      { address=3086,  name="status-derating",                 type="UINT16"              },
      { address=3087,  name="resistance-isolation",            type="UINT16", scale=0.1   },
      { address=3093,  name="temperature-inverter",            type="UINT16", scale=0.1   },
      { address=3094,  name="temperature-ipm",                 type="UINT16", scale=0.1   },
      { address=3095,  name="temperature-boost",               type="UINT16", scale=0.1   },
      { address=3097,  name="temperature-com-board",           type="UINT16", scale=0.1   },
      { address=3098,  name="voltage-p-bus",                   type="UINT16", scale=0.1   },
      { address=3099,  name="voltage-n-bus",                   type="UINT16", scale=0.1   },
      { address=3121,  name="power-self",                      type="UINT32", scale=0.1   },
      { address=3123,  name="energy-system-today",             type="UINT32", scale=0.1   },
      { address=3125,  name="energy-battery-discharge-today",  type="UINT32", scale=0.1   },
      { address=3127,  name="energy-battery-discharge-total",  type="UINT32", scale=0.1   },
      { address=3129,  name="energy-battery-charge-today",     type="UINT32", scale=0.1   },
      { address=3131,  name="energy-battery-charge-total",     type="UINT32", scale=0.1   },
      { address=3133,  name="energy-battery-ac-charge-today",  type="UINT32", scale=0.1   },
      { address=3135,  name="energy-battery-ac-charge-total",  type="UINT32", scale=0.1   },
      { address=3137,  name="energy-system-total",             type="UINT32", scale=0.1   },
      { address=3139,  name="energy-self-today",               type="UINT32", scale=0.1   },
      { address=3141,  name="energy-self-total",               type="UINT32", scale=0.1   },
      { address=3144,  name="status-mode",                     type="UINT16"              },
      { address=3165,  name="status-bdc-derating",             type="UINT16"              },
      { address=3166,  name="status-bdc-mode",                 type="UINT16"              },
      { address=3169,  name="voltage-battery",                 type="UINT16", scale=0.01  },
      { address=3170,  name="current-battery",                 type="UINT16", scale=0.1   },
      { address=3171,  name="charge-battery",                  type="UINT16", scale=1.0   },
      { address=3172,  name="voltage-bdc-bus",                 type="UINT16", scale=0.1   },
      { address=3173,  name="voltage-bdc-bus1",                type="UINT16", scale=0.1   },
      { address=3174,  name="current-buck-boost",              type="UINT16", scale=0.1   },
      { address=3175,  name="current-llc",                     type="UINT16", scale=0.1   },
      { address=3176,  name="temperature-bdc1",                type="UINT16", scale=0.1   },
      { address=3178,  name="power-battery-discharge",         type="UINT32", scale=0.1   },
      { address=3180,  name="power-battery-charge",            type="UINT32", scale=0.1   },
      { address=3187,  name="status-bdc",                      type="UINT16"              },
      { address=3188,  name="voltage-bdc-bus2",                type="UINT16", scale=0.1   },
      { address=61442, name="voltage-sm-ac1",                  type="INT32",  scale=0.1   },
      { address=61444, name="voltage-sm-ac2",                  type="INT32",  scale=0.1   },
      { address=61446, name="voltage-sm-ac3",                  type="INT32",  scale=0.1   },
      { address=61448, name="current-sm-ac1",                  type="INT32",  scale=0.1   },
      { address=61450, name="current-sm-ac2",                  type="INT32",  scale=0.1   },
      { address=61452, name="current-sm-ac3",                  type="INT32",  scale=0.1   },
      { address=61454, name="power-sm-ac1",                    type="INT32",  scale=0.1   },
      { address=61456, name="power-sm-ac2",                    type="INT32",  scale=0.1   },
      { address=61458, name="power-sm-ac3",                    type="INT32",  scale=0.1   },
      { address=61466, name="reactive-power-sm-ac1",   	       type="INT32",  scale=0.1   },
      { address=61468, name="reactive-power-sm-ac2",   	       type="INT32",  scale=0.1   },
      { address=61470, name="reactive-power-sm-ac3",   	       type="INT32",  scale=0.1   },
      { address=61472, name="power-factor-sm-ac1",             type="INT32",  scale=0.001 },
      { address=61474, name="power-factor-sm-ac2",             type="INT32",  scale=0.001 },
      { address=61476, name="power-factor-sm-ac3",             type="INT32",  scale=0.001 },
      { address=61478, name="power-sm-ac",                     type="INT32",  scale=0.1   },
      { address=61482, name="reactive-power-sm-ac",            type="INT32",  scale=0.1   },
      { address=61484, name="power-factor-sm-ac",              type="INT32",  scale=0.001 },
      { address=61486, name="frequency-sm-ac",                 type="INT32",  scale=0.1   },
      { address=61488, name="voltage-sm-ac-rs",                type="INT32",  scale=0.1   },
      { address=61490, name="voltage-sm-ac-st",                type="INT32",  scale=0.1   },
      { address=61492, name="voltage-sm-ac-tr",                type="INT32",  scale=0.1   },
      { address=61494, name="energy-sm-import-total",          type="INT32",  scale=0.1   },
      { address=61496, name="energy-sm-export-total",          type="INT32",  scale=0.1   },
    ]
